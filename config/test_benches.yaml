# Test Benches Configuration — Real Project
# Maps physical test benches to their hardware, environments, and capabilities.

schema_version: "1.0.0"

# -----------------------------------------------------------------------
# Environments
# -----------------------------------------------------------------------
environments:
  coffin:
    description: "RF-shielded chamber with up to 4 radars. Requires frequency interference management."
    max_radars: 4
    interference_management: true
    capabilities:
      - "functional"
      - "regression"
      - "nightly"
      - "milestone"

  oven:
    description: "Thermal chamber with 1 radar for temperature cycling tests."
    max_radars: 1
    interference_management: false
    capabilities:
      - "durability"
      - "thermal"

# -----------------------------------------------------------------------
# Benches
# -----------------------------------------------------------------------
benches:
  # === Coffin 1 ===
  - bench_id: "COFFIN1-POS1"
    hardware_type: "BSR32"
    project: "DR64"
    environment: "coffin"
    environment_id: "COFFIN-1"
    position: 1
    description: "Coffin 1, Position 1 — BSR32"
    state: "available"
    connection:
      uut_ip: "192.168.101.190"
      psu_ip: "192.168.10.3"
      psu_channel: 1
      host_eth0: "eth0"
      host_eth1: "eth1"
    operating_frequency_ghz: 76.128
    capabilities:
      - "functional"
      - "regression"
      - "nightly"
      - "milestone"

  - bench_id: "COFFIN1-POS2"
    hardware_type: "BSRC"
    project: "DR64"
    environment: "coffin"
    environment_id: "COFFIN-1"
    position: 2
    description: "Coffin 1, Position 2 — BSRC"
    state: "available"
    connection:
      uut_ip: "192.168.101.191"
      psu_ip: "192.168.10.3"
      psu_channel: 2
      host_eth0: "eth0"
      host_eth1: "eth1"
    operating_frequency_ghz: 76.623
    capabilities:
      - "functional"
      - "regression"
      - "nightly"
      - "milestone"

  - bench_id: "COFFIN1-POS3"
    hardware_type: "HRR"
    project: "MBAG"
    environment: "coffin"
    environment_id: "COFFIN-1"
    position: 3
    description: "Coffin 1, Position 3 — HRR"
    state: "available"
    connection:
      uut_ip: "192.168.101.192"
      psu_ip: "192.168.10.3"
      psu_channel: 1
      host_eth0: "eth0"
      host_eth1: "eth1"
    operating_frequency_ghz: 76.128
    capabilities:
      - "functional"
      - "regression"
      - "nightly"
      - "milestone"

  - bench_id: "COFFIN1-POS4"
    hardware_type: "BSRC"
    project: "DR64"
    environment: "coffin"
    environment_id: "COFFIN-1"
    position: 4
    description: "Coffin 1, Position 4 — BSRC"
    state: "available"
    connection:
      uut_ip: "192.168.101.193"
      psu_ip: "192.168.10.3"
      psu_channel: 2
      host_eth0: "eth0"
      host_eth1: "eth1"
    operating_frequency_ghz: 76.376
    capabilities:
      - "functional"
      - "regression"
      - "nightly"

  # === Oven 1 ===
  - bench_id: "OVEN1-POS1"
    hardware_type: "BSR32"
    project: "DR64"
    environment: "oven"
    environment_id: "OVEN-1"
    position: 1
    description: "Oven 1 — BSR32 thermal testing"
    state: "available"
    connection:
      uut_ip: "192.168.101.194"
      psu_ip: "192.168.10.3"
      psu_channel: 1
      host_eth0: "eth0"
      host_eth1: "eth1"
    operating_frequency_ghz: 76.128
    capabilities:
      - "durability"
      - "thermal"

# -----------------------------------------------------------------------
# Health check settings
# -----------------------------------------------------------------------
health_check:
  ping_timeout_sec: 5
  psu_verify_timeout_sec: 5
  retry_count: 2
  retry_delay_sec: 3

# -----------------------------------------------------------------------
# Resource Manager settings
# -----------------------------------------------------------------------
resource_management:
  max_concurrent_jobs: 4
  lock_timeout_sec: 300
  # Frequency interference avoidance within same coffin
  frequency_exclusion_mhz: 50
